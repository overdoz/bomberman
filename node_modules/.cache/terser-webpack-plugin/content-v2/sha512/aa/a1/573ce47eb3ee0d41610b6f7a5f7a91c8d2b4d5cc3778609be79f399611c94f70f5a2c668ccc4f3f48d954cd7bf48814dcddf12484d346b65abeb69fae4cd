{"code":"!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=5)}([function(t,e,i){var s=i(1);\"string\"==typeof s&&(s=[[t.i,s,\"\"]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,n);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,\"body {\\n    background-image: radial-gradient(#AAE5E7, #024873);\\n    width: 100vw;\\n    height: 100vh;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n#myCanvas {\\n    border-radius: 10px;\\n    background-image: radial-gradient(#F2DAAC, #D9B282);\\n    -webkit-box-shadow: 10px 10px 76px 77px rgba(217,178,130,1);\\n    -moz-box-shadow: 10px 10px 76px 77px rgba(217,178,130,1);\\n    box-shadow: 10px 10px 76px 77px rgba(217,178,130,1);\\n}\\n\\n.title {\\n    display: none;\\n    /*background-color: rgb(151, 70, 32);*/\\n    position: absolute;\\n    top: 0;\\n    color: rgb(122,72,51);\\n    box-shadow: 0px 5px 20px #024873;\\n    border: 4px solid rgb(122,72,51);\\n    padding: 3px;\\n    font-family: 'Allerta Stencil', sans-serif;\\n\\n    /*font-family: 'Kirang Haerang', cursive;*/\\n\\n\\n}\\n\\n#inventory {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    display: flex;\\n    flex-direction: row;\\n    margin: 10px;\\n}\\n\\nimg {\\n    height: 40px;\\n    width: 40px;\\n}\\n\\n#bombs {\\n    margin: 20px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    width: 80px;\\n}\\n\\n#walls {\\n    margin: 20px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    width: 80px;\\n}\\n\\np {\\n    margin: 5px;\\n    font-family: 'Carter One', cursive;\\n    color: white;\\n    letter-spacing: 3px;\\n    font-size: 40px;\\n}\\n\\n\",\"\"])},function(t,e,i){\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||\"\",s=t[3];if(!s)return i;if(e&&\"function\"==typeof btoa){var n=(o=s,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\"),r=s.sources.map(function(t){return\"/*# sourceURL=\"+s.sourceRoot+t+\" */\"});return[i].concat(r).concat([n]).join(\"\\n\")}var o;return[i].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+i+\"}\":i}).join(\"\")},e.i=function(t,i){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var s={},n=0;n<this.length;n++){var r=this[n][0];null!=r&&(s[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&s[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]=\"(\"+o[2]+\") and (\"+i+\")\"),e.push(o))}},e}},function(t,e,i){var s,n,r={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),a=function(t){var e={};return function(t,i){if(\"function\"==typeof t)return t();if(void 0===e[t]){var s=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),h=null,l=0,u=[],d=i(4);function c(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=r[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(b(s.parts[o],e))}else{var a=[];for(o=0;o<s.parts.length;o++)a.push(b(s.parts[o],e));r[s.id]={id:s.id,refs:1,parts:a}}}}function p(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(a):i.push(s[o]={id:o,parts:[a]})}return i}function f(t,e){var i=a(t.insertInto);if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var s=u[u.length-1];if(\"top\"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if(\"bottom\"===t.insertAt)i.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var n=a(t.insertAt.before,i);i.insertBefore(e,n)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function b(t,e){var i,s,n,r;if(e.transform&&t.css){if(!(r=\"function\"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var o=l++;i=h||(h=g(e)),s=v.bind(null,i,o,!1),n=v.bind(null,i,o,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(i=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",y(e,t.attrs),f(t,e),e}(e),s=function(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=d(s));n&&(s+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+\" */\");var o=new Blob([s],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,i,e),n=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute(\"media\",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){m(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var i=p(t,e);return c(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n];(a=r[o.id]).refs--,s.push(a)}t&&c(p(t,e),e);for(n=0;n<s.length;n++){var a;if(0===(a=s[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var x,w=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join(\"\\n\")});function v(t,e,i,s){var n=i?\"\":s.css;if(t.styleSheet)t.styleSheet.cssText=w(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var i=e.protocol+\"//\"+e.host,s=i+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var n,r=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(r)?t:(n=0===r.indexOf(\"//\")?r:0===r.indexOf(\"/\")?i+r:s+r.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(n)+\")\")})}},function(t,e,i){\"use strict\";i.r(e);class s{constructor(t,e){this.position=t,this.assets=e}getPosition(){return this.position}}class n extends s{constructor(t,e=5e3,i,s,n,r){super(t,s),this.game=r,this.ID=\"_\"+Math.random().toString(36).substr(2,9),this.gridSize=n,this.isExploded=!1,this.timeToExplode=e,this.radius=2,this.spriteSize={bomb:{x:28,y:28},fire:{x:38,y:38}},setTimeout(()=>{this.animateExplosion()},this.timeToExplode)}animateExplosion(){this.isExploded=!0,setTimeout(()=>{this.destroySurrounding()},500)}getSurroundingPositions(){let t=this.position.x,e=this.position.y;return[{x:t,y:e},{x:t+1,y:e},{x:t,y:e+1},{x:t+1,y:e+1},{x:t-1,y:e},{x:t,y:e-1},{x:t-1,y:e-1},{x:t-1,y:e+1},{x:t+1,y:e-1}]}destroySurrounding(){let t=this.game.bombs.map(t=>t.ID).indexOf(this.ID),e=this.game.bombs.splice(t,1);this.game.players.forEach((t,i)=>{this.getSurroundingPositions().forEach(s=>{console.log(this.game.walls),t.position.x===s.x&&t.position.y===s.y&&(e=this.game.players.splice(i,1))})});let i=[];this.game.walls.forEach((t,e)=>{this.getSurroundingPositions().forEach(s=>{t.position.x===s.x&&t.position.y===s.y&&!0===t.isDestructible&&i.push(e)})}),i.sort((t,e)=>e-t).forEach(t=>{this.game.walls.splice(t,1)})}draw(t){this.isExploded?this.getSurroundingPositions().forEach(e=>{t.drawImage(this.assets.fire,0,0,this.spriteSize.fire.x,this.spriteSize.fire.y,e.x*this.gridSize,e.y*this.gridSize,this.gridSize,this.gridSize)}):t.drawImage(this.assets.bomb,0,0,this.spriteSize.bomb.x,this.spriteSize.bomb.y,this.position.x*this.gridSize,this.position.y*this.gridSize,this.gridSize,this.gridSize)}}class r extends s{constructor(t,e,i,s,n){super(t,s),this.isDestructible=i,this.spriteSize={destructible:{x:32,y:32},indestructible:{x:15,y:16}},this.gridSize=n}draw(t){!0===this.isDestructible?t.drawImage(this.assets.wall,0,0,this.spriteSize.destructible.x,this.spriteSize.destructible.y,this.position.x*this.gridSize,this.position.y*this.gridSize,this.gridSize,this.gridSize):t.drawImage(this.assets.grid_option2,0,0,this.spriteSize.indestructible.x,this.spriteSize.indestructible.y,this.position.x*this.gridSize,this.position.y*this.gridSize,this.gridSize,this.gridSize)}}!function(){var t=new Error(\"Cannot find module '../images/bomberman.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}();class o extends s{constructor(t,e,i,s,n,r,o){super(t,e),this.game=o,this.assets=e,this.spriteSize={x:27,y:40},this.gridSize=r,this.health=i,this.amountBombs=s,this.amountWalls=n,this.dead=!1,this.direction=\"east\",this.spriteSheet={south:{x:0,y:0},west:{x:0,y:this.spriteSize.y},north:{x:0,y:2*this.spriteSize.y},east:{x:0,y:3*this.spriteSize.y}},document.addEventListener(\"keydown\",this.triggerEvent.bind(this)),document.getElementById(\"amountBombs\").innerHTML=this.amountBombs,document.getElementById(\"amountWalls\").innerHTML=this.amountWalls}triggerEvent(t){switch(t.key){case\"ArrowLeft\":\"west\"===this.direction?this.update():this.direction=\"west\";break;case\"ArrowRight\":\"east\"===this.direction?this.update():this.direction=\"east\";break;case\"ArrowUp\":\"north\"===this.direction?this.update():this.direction=\"north\";break;case\"ArrowDown\":\"south\"===this.direction?this.update():this.direction=\"south\";break;case\"b\":this.setBomb();break;case\" \":this.buildWall()}}draw(t){this.dead||t.drawImage(!function(){var t=new Error(\"Cannot find module '../images/bomberman.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),this.spriteSheet[this.direction].x,this.spriteSheet[this.direction].y,this.spriteSize.x,this.spriteSize.y,this.position.x*this.gridSize+6,this.position.y*this.gridSize,this.spriteSize.x,this.spriteSize.y)}update(){switch(this.direction){case\"east\":let t={x:this.position.x+1,y:this.position.y};this.isPlayerOutOfBounds(t)||this.doesPlayerTouchAWall(t)||(this.position=t);break;case\"west\":let e={x:this.position.x-1,y:this.position.y};this.isPlayerOutOfBounds(e)||this.doesPlayerTouchAWall(e)||(this.position=e);break;case\"south\":let i={x:this.position.x,y:this.position.y+1};this.isPlayerOutOfBounds(i)||this.doesPlayerTouchAWall(i)||(this.position=i);break;case\"north\":let s={x:this.position.x,y:this.position.y-1};this.isPlayerOutOfBounds(s)||this.doesPlayerTouchAWall(s)||(this.position=s)}}buildWall(){if(this.amountWalls>0){switch(this.direction){case\"east\":let t={x:this.position.x+1,y:this.position.y};this.isPlayerOutOfBounds(t)||this.doesPlayerTouchAWall(t)||this.game.walls.push(new r(t,1,!0,this.assets,this.gridSize));break;case\"west\":let e={x:this.position.x-1,y:this.position.y};this.isPlayerOutOfBounds(e)||this.doesPlayerTouchAWall(e)||this.game.walls.push(new r(e,1,!0,this.assets,this.gridSize));break;case\"south\":let i={x:this.position.x,y:this.position.y+1};this.isPlayerOutOfBounds(i)||this.doesPlayerTouchAWall(i)||this.game.walls.push(new r(i,1,!0,this.assets,this.gridSize));break;case\"north\":let s={x:this.position.x,y:this.position.y-1};this.isPlayerOutOfBounds(s)||this.doesPlayerTouchAWall(s)||this.game.walls.push(new r(s,1,!0,this.assets,this.gridSize))}this.amountWalls--,document.getElementById(\"amountWalls\").innerHTML=this.amountWalls}}setBomb(){if(this.amountBombs>0){let t={x:this.position.x,y:this.position.y};this.game.bombs.push(new n(t,1500,1,this.assets,this.gridSize,this.game)),this.amountBombs--,document.getElementById(\"amountBombs\").innerHTML=this.amountBombs}}doesPlayerTouchAWall(t){for(let e=0;e<this.game.walls.length;e++)if(this.game.walls[e].position.x===t.x&&this.game.walls[e].position.y===t.y)return!0;return!1}isPlayerOutOfBounds(t){return t.x>this.game.width-1||t.y>this.game.height-1||t.x<0||t.y<0}getDamage(t){if(t<0)throw new Error(\"Damage must be a negative double number!\");this.health-=t,this.health<=0&&(this.dead=!0)}}class a{constructor(t,e=13,i=13,s){this.canvas=document.getElementById(t),this.context=this.canvas.getContext(\"2d\"),this.assets=s,this.width=e,this.height=i,this.frameCount=0,this.gridSize=this.canvas.width/e,this.bombs=[],this.players=[],this.walls=[],this.players.push(new o({x:0,y:0},this.assets,1,14,77,this.gridSize,this)),this.generateRandomWalls(30),this.startAnimating()}update(){let t=t=>Math.floor(Math.random()*t);t(this.width),t(this.height)}draw(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.players.forEach(t=>{t.draw(this.context)}),this.walls.forEach(t=>{t.draw(this.context)}),this.bombs.forEach(t=>{t.draw(this.context)})}startAnimating(){this.frameTime=1e3/30,this.then=window.performance.now(),this.animate(this.then)}animate(t){window.requestAnimationFrame(this.animate.bind(this));const e=t;e-this.then>this.frameTime&&(this.then=e,this.update(),this.draw()),this.frameCount++}generateRandomWalls(t){for(let t=1;t<this.width;t+=2)for(let e=1;e<this.height;e+=2)this.walls.push(new r({x:t,y:e},1,!1,this.assets,this.gridSize));let e=t=>Math.floor(Math.random()*t);for(let i=0;i<t;i++){let t={x:e(this.width),y:e(this.height)};this.isAlreadyExisting(t)?i--:this.walls.push(new r(t,1,!0,this.assets,this.gridSize))}}isAlreadyExisting(t){for(let e=0;e<this.walls.length;e++)if(t.x===this.walls[e].position.x&&t.y===this.walls[e].position.y)return!0;for(let e=0;e<3;e++)for(let i=0;i<3;i++)switch(!0){case t.x===e&&t.y===i:case t.x===this.width-1-e&&t.y===this.height-1-i:case t.x===e&&t.y===this.height-1-i:case t.x===this.width-1-e&&t.y===i:return!0}return!1}}i(0);i.d(e,\"AssetLoader\",function(){return h}),function(){var t=new Error(\"Cannot find module '../images/bomberman.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),function(){var t=new Error(\"Cannot find module '../images/wall.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),function(){var t=new Error(\"Cannot find module '../images/bomb.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),function(){var t=new Error(\"Cannot find module '../images/grid_option2.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}(),function(){var t=new Error(\"Cannot find module '../images/fire.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}();class h{loadAsset(t,e){return new Promise((i,s)=>{const n=new Image;n.src=e,n.addEventListener(\"load\",function(){return i({name:t,image:this})})})}loadAssets(t){return Promise.all(t.map(t=>this.loadAsset(t.name,t.url))).then(t=>t.reduceRight((t,e)=>({...t,[e.name]:e.image}),{}))}}(new h).loadAssets([{name:\"bomberman\",url:!function(){var t=new Error(\"Cannot find module '../images/bomberman.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()},{name:\"wall\",url:!function(){var t=new Error(\"Cannot find module '../images/wall.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()},{name:\"bomb\",url:!function(){var t=new Error(\"Cannot find module '../images/bomb.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()},{name:\"grid_option2\",url:!function(){var t=new Error(\"Cannot find module '../images/grid_option2.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()},{name:\"fire\",url:!function(){var t=new Error(\"Cannot find module '../images/fire.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()}]).then(t=>{new a(\"myCanvas\",13,13,t)}).catch(t=>{window.location.href=\"http://stackoverflow.com/search?q=[js]+\"+t})}]);","extractedComments":[]}